WITH education AS (
SELECT
    (ST_MaximumInscribedCircle(way)).center AS way,
    name,
    amenity AS education,
    way_area
  FROM planet_osm_polygon
  WHERE way && {{bbox}}
    AND amenity IN ('school')
    AND name IS NOT NULL
)
SELECT
    ST_AsMVTGeom(way, {{unbuffered_bbox}}, {{extent}}, {{buffer}}) AS way,
    name,
    education,
    way_area
  FROM education
